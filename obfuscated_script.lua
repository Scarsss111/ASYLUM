-- Obfuscated Lua
loadstring(game:HttpGet('data:text/plain;base64,LS0gQXV0byBNb3AgRmFybSAoU3luYXBzZS1mcmllbmRseSwgcmVzcGF3bi1zYWZlKQotLSBQbGFjZSB0aGlzIGluIGEgTG9jYWxTY3JpcHQgKFN0YXJ0ZXJQbGF5ZXJTY3JpcHRzKSBvciBleGVjdXRlIHdpdGggU3luYXBzZS4KLS0gRml4ZXM6IGFsd2F5cyB0ZWxlcG9ydHMgdG8gaHViIG9uIHJlc3Bhd24sIGFsd2F5cyBhdHRlbXB0cyB0byBnZXQvZXF1aXAgbW9wLAotLSBiaW5kcyB3b3JrIHRvIHRoZSBzcGVjaWZpYyBjaGFyYWN0ZXIgaW5zdGFuY2Ugc28gcmVzcGF3bnMgcmVsaWFibHkgcmVzdGFydCB0aGUgcm91dGluZS4KbG9jYWwgdTViemptID0gNDcKCmxvY2FsIHZhcl82Ymk5eGYgPSB0cnVlCgpsb2NhbCB2YXJfMzNxZmFnID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgMHJrcjRsID0gODQKbG9jYWwgdmFyX2ZvOHBzciA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQpsb2NhbCB2YXJfaTNhMmtyID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKQpsb2NhbCB2YXJfMnh6NHJsID0gZ2FtZTpHZXRTZXJ2aWNlKCJDb2xsZWN0aW9uU2VydmljZSIpCmxvY2FsIHZhcl81dnFjZTkgPSBnYW1lOkdldFNlcnZpY2UoIlBhdGhmaW5kaW5nU2VydmljZSIpCmxvY2FsIHZhcl80M3A2b2wgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCgpsb2NhbCB2YXJfNml6N2MzID0gVmVjdG9yMy5uZXcoMTM0LCAyNTUsIC03MDQpCmxvY2FsIHZhcl8xZG42aHggPSAiTW9wIgpsb2NhbCBnN2JyajAgPSA1Ngpsb2NhbCB2YXJfYmoxdnNmID0gUmVwbGljYXRlZFN0b3JhZ2U6RmluZEZpcnN0Q2hpbGQoIlJlbW90ZSIpIGFuZCBSZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGU6RmluZEZpcnN0Q2hpbGQoIkF0dGVtcHRDbGVhblNwaWxsIikgYW5kIFJlcGxpY2F0ZWRTdG9yYWdlLlJlbW90ZS5BdHRlbXB0Q2xlYW5TcGlsbCBvciBuaWwKLS0gYmhxMDJjbHAKCi0tIEF0dGVtcHQgdG8gbG9jYXRlIHByb21wdCBzYWZlbHkgKHNvbWUgbWFwcyBtaWdodCBub3QgbG9hZCBpbnN0YW50bHkpCi0tIHljeW1vZ3I4CmxvY2FsIHZhcl84dHZzd3MgZ2V0TW9wR2l2ZXJQcm9tcHQoKQpsb2NhbCBld2J1NGQgPSA4NAogICAgbG9jYWwgdmFyX3l5djIxdSwgcmVzID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHJldHVybiBXb3Jrc3BhY2UuQV9NQVAuSW5mcmFzdHJ1Y3R1cmUuRmFjaWxpdHkuVW5kZXJncm91bmRGYWNpbGl0eS5DYWZlR3JpZFsiTW9wIEdpdmVyIl0uR2l2ZXIuUHJveGltaXR5UHJvbXB0CiAgICBlbmQpCiAgICBpZiBvayB0aGVuCiAgICAgICAgcmV0dXJuIHJlcwogICAgZW5kCiAgICByZXR1cm4gbmlsCmVuZAoKbG9jYWwgdmFyX3puNjZ4NyA9IGdldE1vcEdpdmVyUHJvbXB0KCkKCmxvY2FsIHZhcl8xcDl1a2Igd2FpdEZvckNoYXJhY3Rlcih0aW1lb3V0KQogICAgdGltZW91dCA9IHRpbWVvdXQgb3IgMTUKICAgIGxvY2FsIHZhcl9yMjMzZHUgPSB0aWNrKCkKICAgIHdoaWxlIHRpY2soKSAtIHN0YXJ0IDwgdGltZW91dCBkbwogICAgICAgIGxvY2FsIHZhcl9zeXVub2QgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKLS0gZ2wwaGptZXkKICAgICAgICBpZiBjaGFyIGFuZCBjaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgYW5kIGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIHRoZW4KLS0gZW8wYW9zdWEKICAgICAgICAgICAgcmV0dXJuIGNoYXIKICAgICAgICBlbmQKICAgICAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCkKICAgIGVuZApsb2NhbCAzdWx5YTUgPSAzNgogICAgcmV0dXJuIExvY2FsUGxheWVyLkNoYXJhY3RlciAtLSBtYXkgYmUgbmlsCmxvY2FsIGI1OTA2cSA9IDM5CmVuZAoKbG9jYWwgdmFyX2x1dWk4cCB0ZWxlcG9ydFRvKHBvcywgY2hhcikKLS0gM3Fya2k0Ym8KICAgIGNoYXIgPSBjaGFyIG9yIExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgaWYgbm90IGNoYXIgdGhlbiBjaGFyID0gd2FpdEZvckNoYXJhY3Rlcig1KSBlbmQKICAgIGlmIG5vdCBjaGFyIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgbG9jYWwgdmFyX2Y5djRmbSA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgaWYgaHJwIHRoZW4KICAgICAgICAtLSBwY2FsbCBpbiBjYXNlIHNlcnZlciBjb3JyZWN0cyBvciBvYmplY3QgaXMgbmlsIG1pZC1jYWxsCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBocnAuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhwb3MpIGVuZCkKICAgICAgICByZXR1cm4gdHJ1ZQotLSBzNDZneTk5cgogICAgZW5kCiAgICByZXR1cm4gZmFsc2UKZW5kCi0tIGkxamJ4dmMwCgotLSBtemUwaDFndApsb2NhbCBucnAzYzAgPSA3MQpsb2NhbCB2YXJfbGE3MTlnIGZpcmVQcm94aW1pdHlQcm9tcHQocHJvbXB0KQogICAgaWYgbm90IHByb21wdCB0aGVuIHJldHVybiBmYWxzZSBlbmQKLS0gb3hkZHk1ZjgKICAgIGlmIHR5cGVvZihmaXJlcHJveGltaXR5cHJvbXB0KSA9PSAiZnVuY3Rpb24iIHRoZW4KLS0gcHR0cm1mdDcKICAgICAgICBwY2FsbChmdW5jdGlvbigpIGZpcmVwcm94aW1pdHlwcm9tcHQocHJvbXB0KSBlbmQpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKLS0gYm9zNTV0MmEKICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIHByb21wdDpJbnB1dEhvbGRCZWdpbigpCiAgICAgICAgICAgIHRhc2sud2FpdCgwLjI1KQpsb2NhbCBicGpkMnQgPSA5MAogICAgICAgICAgICBwcm9tcHQ6SW5wdXRIb2xkRW5kKCkKLS0genppOHMwZ2UKICAgICAgICBlbmQpCmxvY2FsIDJjNnkweiA9IDIzCiAgICAgICAgcmV0dXJuIHRydWUKLS0gOGU4bnV2ZmQKICAgIGVuZAplbmQKCmxvY2FsIHZhcl9sZWwyM3MgZ2V0TW9wKCkKLS0gN3h3dGNoZmkKICAgIC0tIHRyeSBhIGZldyB0aW1lcyB0byB0ZWxlcG9ydCArIGFjdGl2YXRlIHByb21wdAotLSAxcm1waGI1awogICAgZm9yIGkgPSAxLCA4IGRvCiAgICAgICAgaWYgbm90IHRlbGVwb3J0VG8oSFVCX1BPUykgdGhlbiB0YXNrLndhaXQoMC4yNSkgZW5kCiAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICBsb2NhbCB2YXJfcnF0bTd4ID0gTU9QX0dJVkVSX1BST01QVCBvciBnZXRNb3BHaXZlclByb21wdCgpCiAgICAgICAgaWYgcHJvbXB0IHRoZW4KLS0gbWhhYTVtcG4KICAgICAgICAgICAgZmlyZVByb3hpbWl0eVByb21wdChwcm9tcHQpCi0tIGo1Z2ZxcDFzCiAgICAgICAgZW5kCiAgICAgICAgdGFzay53YWl0KDAuMzUpCiAgICAgICAgaWYgTG9jYWxQbGF5ZXIuQmFja3BhY2s6RmluZEZpcnN0Q2hpbGQoTU9QX1RPT0xfTkFNRSkgb3IgKExvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKE1PUF9UT09MX05BTUUpKSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCi0tIG1mZzZkbGxmCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBmYWxzZQplbmQKCi0tIHZlZDN0NXJiCmxvY2FsIHZhcl83YmY1cmUgZXF1aXBNb3AoKQotLSBkOWhydHU4NgogICAgLS0gdHJ5IGVxdWlwIGZyb20gY2hhcmFjdGVyIGZpcnN0IChpZiBpdCBhbHJlYWR5IGV4aXN0cyksIHRoZW4gYmFja3BhY2sKLS0gbm9vcG03OHIKICAgIGxvY2FsIHZhcl80MGQ1d2kgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKbG9jYWwgdG5leGIyID0gNgogICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZmFsc2UgZW5kCi0tIDFnbWNxYWx0CiAgICBsb2NhbCB2YXJfdTJpNnoyID0gY2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKLS0gdjRrcnhhaHYKICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuIHJldHVybiBmYWxzZSBlbmQKLS0gdnBxNjNiZ2MKCmxvY2FsIDMwc3c2cyA9IDAKICAgIC0tIElmIGluIGNoYXJhY3RlciwgdHJ5IGVuc3VyZSBpdCdzIGVxdWlwcGVkIChzb21lIHRvb2xzIGF1dG8tZXF1aXAgYnV0IGp1c3QgaW4gY2FzZSkKbG9jYWwgaTA5OGwwID0gMzcKICAgIGxvY2FsIHZhcl9uNWxubzIgPSBjaGFyOkZpbmRGaXJzdENoaWxkKE1PUF9UT09MX05BTUUpCmxvY2FsIGRrc3ZwbyA9IDE4CiAgICBpZiBpbkNoYXIgYW5kIGh1bWFub2lkIGFuZCBodW1hbm9pZDpGaW5kRmlyc3RDaGlsZCgiUGFyZW50IikgdGhlbgotLSAyYXIxdjFvbAogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgaHVtYW5vaWQ6RXF1aXBUb29sKGluQ2hhcikgZW5kKQotLSB6OGdwZDlpbgpsb2NhbCB0N2lkamsgPSA1OQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKbG9jYWwgYWZlNnFwID0gODAKCiAgICAtLSBJZiBpbiBiYWNrcGFjaywgZXF1aXAKLS0gZ295bm9leWUKICAgIGxvY2FsIHZhcl91ejBxdzUgPSBMb2NhbFBsYXllci5CYWNrcGFjazpGaW5kRmlyc3RDaGlsZChNT1BfVE9PTF9OQU1FKQogICAgaWYgaW5CYWNrcGFjayB0aGVuCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBodW1hbm9pZDpFcXVpcFRvb2woaW5CYWNrcGFjaykgZW5kKQogICAgICAgIHJldHVybiB0cnVlCiAgICBlbmQKCiAgICByZXR1cm4gZmFsc2UKZW5kCgpsb2NhbCB2YXJfMnRjNTN2IHNldFNwZWVkKHNwZWVkKQogICAgbG9jYWwgdmFyXzZ6d2VoeSA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZW5kCi0tIHp5eW5wNTczCmxvY2FsIGpnanFreSA9IDU5CiAgICBsb2NhbCB2YXJfYmVwdDZkID0gY2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKLS0gcHFyMm14czIKICAgIGlmIGh1bSB0aGVuCi0tIGFwdm9wOTlzCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBodW0uV2Fsa1NwZWVkID0gc3BlZWQgZW5kKQpsb2NhbCBpeTRla28gPSAzNQogICAgZW5kCmVuZAoKbG9jYWwgNGxpcXE3ID0gMTcKbG9jYWwgdmFyX2liNnRvaiBnZXROZWFyZXN0U3BpbGxSb290KGNoYXIpCi0tIHBhNDU1aHRtCiAgICBsb2NhbCB2YXJfcmY3MGt1ID0gY2hhciBhbmQgY2hhcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCi0tIGQ2M2R4ZmVhCiAgICBpZiBub3QgaHJwIHRoZW4gcmV0dXJuIG5pbCwgbmlsIGVuZAotLSA1b3lrNm9lZgogICAgbG9jYWwgdmFyX3M4dzl0NSA9IG1hdGguaHVnZQotLSBpdnkyazlhcgpsb2NhbCBkN3IzNXAgPSAyNwogICAgbG9jYWwgdmFyXzF1bDFybSwgbmVhcmVzdFJvb3QgPSBuaWwsIG5pbAogICAgZm9yIF8sIHNwaWxsIGluIGlwYWlycyhDb2xsZWN0aW9uU2VydmljZTpHZXRUYWdnZWQoIlNwaWxsIikpIGRvCi0tIHh3NDkyZnNxCiAgICAgICAgbG9jYWwgdmFyXzkzMzZ0aSA9IHNwaWxsOkZpbmRGaXJzdENoaWxkKCJSb290IikKICAgICAgICBpZiByb290IGFuZCByb290OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgIGxvY2FsIHZhcl9ma24zdTIgPSAoaHJwLlBvc2l0aW9uIC0gcm9vdC5Qb3NpdGlvbikuTWFnbml0dWRlCmxvY2FsIG1xMGZoeCA9IDk5CiAgICAgICAgICAgIGlmIGRpc3QgPCBtaW5EaXN0IHRoZW4KbG9jYWwgYXdpbDV4ID0gNDMKICAgICAgICAgICAgICAgIG1pbkRpc3QgPSBkaXN0CiAgICAgICAgICAgICAgICBuZWFyZXN0U3BpbGwgPSBzcGlsbAogICAgICAgICAgICAgICAgbmVhcmVzdFJvb3QgPSByb290CiAgICAgICAgICAgIGVuZApsb2NhbCBxNWFxYTQgPSAxMgogICAgICAgIGVuZAogICAgZW5kCi0tIDM1ZnFzYWp1CiAgICByZXR1cm4gbmVhcmVzdFNwaWxsLCBuZWFyZXN0Um9vdApsb2NhbCBxdzk5aTkgPSA0NQplbmQKCmxvY2FsIHZhcl85dmxxMjAgcGF0aFRvUm9vdChyb290LCBjaGFyKQogICAgY2hhciA9IGNoYXIgb3IgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCi0tIGhxcmxtbDVmCiAgICBpZiBub3QgKHJvb3QgYW5kIGNoYXIpIHRoZW4gcmV0dXJuIGVuZAogICAgbG9jYWwgdmFyX3ZjdHE5ZyA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQpsb2NhbCBjdm42NzEgPSA0NAogICAgbG9jYWwgdmFyX2E4Y2NoaiA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICBpZiBub3QgKGhycCBhbmQgaHVtKSB0aGVuIHJldHVybiBlbmQKLS0gODB6bGVrZ3MKbG9jYWwgZ2wxOXJvID0gNDgKCiAgICBsb2NhbCB2YXJfZm43bnJ6CiAgICBsb2NhbCB2YXJfeHphcjlvLCBlcnIgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgcGF0aCA9IFBhdGhmaW5kaW5nU2VydmljZTpDcmVhdGVQYXRoKHsKICAgICAgICAgICAgQWdlbnRSYWRpdXMgPSAyLAotLSBuZDBna21rNQogICAgICAgICAgICBBZ2VudEhlaWdodCA9IDUsCiAgICAgICAgICAgIEFnZW50Q2FuSnVtcCA9IHRydWUsCiAgICAgICAgICAgIEFnZW50SnVtcEhlaWdodCA9IDEwLAotLSBiNjZtbjhlegogICAgICAgICAgICBBZ2VudE1heFNsb3BlID0gNDUsCi0tIDZ3emp4YXZuCmxvY2FsIHRybWNyZSA9IDAKICAgICAgICAgICAgV29ya3NwYWNlID0gV29ya3NwYWNlCi0tIHdqc2N1bmZlCiAgICAgICAgfSkKICAgICAgICBwYXRoOkNvbXB1dGVBc3luYyhocnAuUG9zaXRpb24sIHJvb3QuUG9zaXRpb24pCiAgICBlbmQpCiAgICBpZiBub3Qgb2sgdGhlbgogICAgICAgIC0tIGZhbGxiYWNrOiBkaXJlY3QgbW92ZS9qdW1wIHRoZW4gdGVsZXBvcnQKLS0gODY0Z3ZqdHoKbG9jYWwgYndtbmp4ID0gODUKICAgICAgICBsb2NhbCB2YXJfeTVrbm80ID0gdGljaygpCiAgICAgICAgd2hpbGUgdGljaygpIC0gdCA8IDIgYW5kIGh1bSBhbmQgaHVtLlBhcmVudCBkbwogICAgICAgICAgICBodW0uSnVtcCA9IHRydWUKLS0gbzY1Y3AydmYKICAgICAgICAgICAgaHVtOk1vdmVUbyhyb290LlBvc2l0aW9uKQpsb2NhbCBqbHIwYTcgPSA4NQogICAgICAgICAgICB0YXNrLndhaXQoMC4xNSkKICAgICAgICBlbmQKLS0gbXN5MjVpeXkKICAgICAgICBwY2FsbChmdW5jdGlvbigpIGlmIGhycCBhbmQgcm9vdCB0aGVuIGhycC5DRnJhbWUgPSByb290LkNGcmFtZSBlbmQgZW5kKQotLSBndGV1bW1kcQpsb2NhbCB2ZmllNmggPSAyMQogICAgICAgIHJldHVybgogICAgZW5kCgogICAgaWYgcGF0aCBhbmQgcGF0aC5TdGF0dXMgPT0gRW51bS5QYXRoU3RhdHVzLlN1Y2Nlc3MgdGhlbgotLSB4YWVrdzd5aApsb2NhbCBtbWplZWMgPSAyMAogICAgICAgIGZvciBfLCB3YXlwb2ludCBpbiBpcGFpcnMocGF0aDpHZXRXYXlwb2ludHMoKSkgZG8KICAgICAgICAgICAgaWYgbm90IChjaGFyIGFuZCBjaGFyLlBhcmVudCkgdGhlbiBicmVhayBlbmQKICAgICAgICAgICAgaHVtOk1vdmVUbyh3YXlwb2ludC5Qb3NpdGlvbikKICAgICAgICAgICAgaHVtLk1vdmVUb0ZpbmlzaGVkOldhaXQoKQogICAgICAgIGVuZAogICAgZWxzZQogICAgICAgIGxvY2FsIHZhcl8zdHl2YmIgPSB0aWNrKCkKICAgICAgICB3aGlsZSB0aWNrKCkgLSB0IDwgMiBhbmQgaHVtIGFuZCBodW0uUGFyZW50IGRvCiAgICAgICAgICAgIGh1bS5KdW1wID0gdHJ1ZQpsb2NhbCAwc3M3d28gPSA4NwogICAgICAgICAgICBodW06TW92ZVRvKHJvb3QuUG9zaXRpb24pCiAgICAgICAgICAgIHRhc2sud2FpdCgwLjE1KQotLSBsZXV5bjExbgogICAgICAgIGVuZAogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgaWYgaHJwIGFuZCByb290IHRoZW4gaHJwLkNGcmFtZSA9IHJvb3QuQ0ZyYW1lIGVuZCBlbmQpCiAgICBlbmQKLS0gaHVobHJtY2MKZW5kCgotLSBIYW5kbGUgYSBzaW5nbGUgY2hhcmFjdGVyIGluc3RhbmNlOiB0ZWxlcG9ydCAtPiBnZXQvZXF1aXAgbW9wIC0+IGNsZWFuIHVudGlsIGRlYXRoCi0tIHZsZ3VueWN6CmxvY2FsIHZhcl95ZGxiaGUgaGFuZGxlQ2hhcmFjdGVyKGNoYXIpCiAgICBpZiBub3QgRU5BQkxFX0FVVE9fRkFSTSBvciBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKICAgIC0tIFNtYWxsIGRlbGF5IHRvIGxldCBjaGFyYWN0ZXIgZnVsbHkgaW5pdGlhbGl6ZQotLSBrNzdjZnBxZQogICAgdGFzay53YWl0KDAuMikKCi0tIGhwNDk3eGExCiAgICAtLSBlbnN1cmUgd2UgaGF2ZSB2YWxpZCBodW1hbm9pZCArIGhycAogICAgbG9jYWwgdmFyX2V6enR4eCA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIG9yIGNoYXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIsIDUpCiAgICBsb2NhbCB2YXJfcTUxcHA3ID0gY2hhcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNoYXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkKICAgIGlmIG5vdCAoaHVtYW5vaWQgYW5kIGhycCkgdGhlbiByZXR1cm4gZW5kCi0tIGNneDVmaTdlCgogICAgLS0gVGVsZXBvcnQgdG8gaHViIG9uIHJlc3Bhd24KICAgIHRlbGVwb3J0VG8oSFVCX1BPUywgY2hhcikKICAgIHRhc2sud2FpdCgwLjEyKQpsb2NhbCBydTU1ajIgPSAxNwoKbG9jYWwgOXk1ZmZkID0gMgogICAgLS0gQWx3YXlzIGF0dGVtcHQgdG8gZXF1aXA7IGlmIG1pc3NpbmcsIHRyeSB0byBnZXQgaXQgdGhlbiBlcXVpcAotLSBtMWN6Y3k5NgogICAgZXF1aXBNb3AoKQogICAgaWYgbm90IChjaGFyOkZpbmRGaXJzdENoaWxkKE1PUF9UT09MX05BTUUpIG9yIExvY2FsUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKE1PUF9UT09MX05BTUUpKSB0aGVuCiAgICAgICAgZ2V0TW9wKCkKLS0gdTU3dnMwamkKICAgICAgICB0YXNrLndhaXQoMC4yKQotLSA5N3hteWtjZQogICAgICAgIGVxdWlwTW9wKCkKLS0gd3N4bGY5b20KICAgIGVsc2UKICAgICAgICAtLSBldmVuIGlmIHByZXNlbnQsIHRyeSB0byBlbnN1cmUgaXQncyBlcXVpcHBlZAotLSBsNWxzaGJldQpsb2NhbCA5dHl4N2kgPSAwCiAgICAgICAgZXF1aXBNb3AoKQotLSA2cG1kbnA4YQpsb2NhbCBwd25vMXogPSA3NgogICAgZW5kCmxvY2FsIHpxOTI3dSA9IDU1CgogICAgc2V0U3BlZWQoMjQpCgogICAgLS0gPT09PT0gQURERUQ6IEF1dG8gUmUtRXF1aXAgTW9wID09PT09CiAgICB0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCB2YXJfb2RzM3RpIG1vbml0b3JNb3AoY2hhcikKICAgICAgICAgICAgbG9jYWwgdmFyXzYxbDIxNSA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuIHJldHVybiBlbmQKbG9jYWwgNXVpenZxID0gODkKCiAgICAgICAgICAgIC0tIFdhdGNoIGZvciB3aGVuIHRoZSBtb3AgaXMgcmVtb3ZlZCBmcm9tIGNoYXJhY3RlcgogICAgICAgICAgICBjaGFyLkNoaWxkUmVtb3ZlZDpDb25uZWN0KGZ1bmN0aW9uKGNoaWxkKQotLSBlOXNmYWJ5cgogICAgICAgICAgICAgICAgaWYgY2hpbGQuTmFtZSA9PSBNT1BfVE9PTF9OQU1FIHRoZW4KbG9jYWwgeTltM2V6ID0gOTMKICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4xKQogICAgICAgICAgICAgICAgICAgIGVxdWlwTW9wKCkKLS0gNmRiZjBocngKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCgotLSA0OXFsdDgxcgpsb2NhbCBibTg5MmMgPSAxNgogICAgICAgICAgICAtLSBXYXRjaCBmb3IgaGVhbHRoIGNoYW5nZXMgKGluIGNhc2Ugb2YgdGF6ZS9kZWF0aCByYWdkb2xsKQogICAgICAgICAgICBodW1hbm9pZDpHZXRQcm9wZXJ0eUNoYW5nZWRTaWduYWwoIkhlYWx0aCIpOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgaHVtYW5vaWQuSGVhbHRoID4gMCB0aGVuCiAgICAgICAgICAgICAgICAgICAgZXF1aXBNb3AoKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKCi0tIG9xeWs0NWsyCiAgICAgICAgbW9uaXRvck1vcChjaGFyKQogICAgZW5kKQogICAgLS0gPT09PT0gRU5EIEFEREVEID09PT09CgogICAgLS0gS2VlcCBhIHJlZmVyZW5jZSB0byBjdXJyZW50IGh1bWFub2lkIHRvIGRldGVjdCBkZWF0aCByZWxpYWJseQotLSBvYWdsc2tteQpsb2NhbCBuczVkMzYgPSA5NAogICAgbG9jYWwgdmFyX29maTdlcSA9IGh1bWFub2lkCiAgICAtLSBDbGVhbnVwIGZsYWcgZm9yIHRoaXMgY2hhcmFjdGVyIGxvb3AKLS0gdDl1enlpbjMKICAgIHdoaWxlIEVOQUJMRV9BVVRPX0ZBUk0gYW5kIGNoYXIuUGFyZW50IGFuZCBjdXJyZW50SHVtIGFuZCBjdXJyZW50SHVtLkhlYWx0aCA+IDAgZG8KICAgICAgICBsb2NhbCB2YXJfaHY3dDhwLCByb290ID0gZ2V0TmVhcmVzdFNwaWxsUm9vdChjaGFyKQotLSB0eDdjdDRxYQogICAgICAgIGlmIHNwaWxsIGFuZCByb290IHRoZW4KICAgICAgICAgICAgcGF0aFRvUm9vdChyb290LCBjaGFyKQogICAgICAgICAgICBpZiBSRU1PVEVfQ0xFQU5fU1BJTEwgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBSRU1PVEVfQ0xFQU5fU1BJTEw6RmlyZVNlcnZlcihzcGlsbCkgZW5kKQogICAgICAgICAgICBlbmQKLS0gd2Uxc3Noa24KICAgICAgICAgICAgbG9jYWwgdmFyX3czem52YiA9IHRpY2soKQogICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgIGlmIG5vdCAoY2hhciBhbmQgY2hhci5QYXJlbnQpIHRoZW4gYnJlYWsgZW5kCi0tIHM2N3ZmcjdqCiAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4yKQogICAgICAgICAgICB1bnRpbCBub3Qgc3BpbGwuUGFyZW50IG9yIHRpY2soKSAtIHQgPiA1CiAgICAgICAgZWxzZQotLSByemkxcGNmdApsb2NhbCAxNWdpNHAgPSA0MwogICAgICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICBlbmQKICAgIGVuZAotLSBweTFhcW1jdAoKICAgIC0tIHdoZW4gaHVtYW5vaWQgZGllcyBvciBjaGFyYWN0ZXIgZGVzdHJveWVkLCB0aGlzIGZ1bmN0aW9uIGVuZHMgYW5kIENoYXJhY3RlckFkZGVkIHdpbGwgc3RhcnQgYSBuZXcgb25lCmVuZAoKLS0gQ29ubmVjdCBDaGFyYWN0ZXJBZGRlZDogcnVuIGhhbmRsZUNoYXJhY3RlciBpbiBpdHMgb3duIHRocmVhZCBmb3IgZWFjaCByZXNwYXduCmxvY2FsIGw4ODBkdyA9IDg5CkxvY2FsUGxheWVyLkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oY2hhcikKbG9jYWwgMjFqdWhvID0gMzAKICAgIGlmIG5vdCBFTkFCTEVfQVVUT19GQVJNIHRoZW4gcmV0dXJuIGVuZAogICAgdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICAgICAgLS0gc21hbGwgc2FmZXR5IGRlbGF5IHRvIGF2b2lkIHJhY2luZyB3aXRoIHNwYXduIGxvZ2ljCiAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICBoYW5kbGVDaGFyYWN0ZXIoY2hhcikKICAgIGVuZCkKZW5kKQoKLS0gU3RhcnQgaW1tZWRpYXRlbHkgaWYgY2hhcmFjdGVyIGFscmVhZHkgZXhpc3RzCmlmIExvY2FsUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICB0YXNrLnNwYXduKGZ1bmN0aW9uKCkKbG9jYWwgMjdrMWl4ID0gMjUKICAgICAgICB0YXNrLndhaXQoMC4xKQpsb2NhbCAwd296c2UgPSA4MwogICAgICAgIGhhbmRsZUNoYXJhY3RlcihMb2NhbFBsYXllci5DaGFyYWN0ZXIpCi0tIDVoZHl0OHpzCmxvY2FsIGEzMmk0OCA9IDE5CiAgICBlbmQpCmVuZAoKLS0gTWFudWFsIHRvZ2dsZQpfRy50b2dnbGVBdXRvTW9wID0gZnVuY3Rpb24oc3RhdGUpCiAgICBFTkFCTEVfQVVUT19GQVJNID0gc3RhdGUKICAgIGlmIHN0YXRlIGFuZCBMb2NhbFBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgIHRhc2suc3Bhd24oZnVuY3Rpb24oKSBoYW5kbGVDaGFyYWN0ZXIoTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBlbmQpCiAgICBlbmQKZW5kCgotLSBBdXRvLWNsZWFuIGxvb3AKLS0gYjBhc2tjeHUKbG9jYWwgdmFyX2R2MDdrOSA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQpsb2NhbCB2YXJfYjdtODZmID0gd29ya3NwYWNlLklnbm9yZWQuU3BpbGxzCi0tIDM1MmZrcjBwCmxvY2FsIHZhcl80eXpycnQgPSBSZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZSIpOldhaXRGb3JDaGlsZCgiQXR0ZW1wdENsZWFuU3BpbGwiKQoKd2hpbGUgdHJ1ZSBkbwotLSBqZTdpd3dwYQogICAgZm9yIF8sIG1vZGVsIGluIGlwYWlycyhzcGlsbEZvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIG1vZGVsIGFuZCBtb2RlbC5QYXJlbnQgdGhlbgogICAgICAgICAgICBSZW1vdGVFdmVudDpGaXJlU2VydmVyKG1vZGVsKQpsb2NhbCBodzl5aHggPSAyOQogICAgICAgIGVuZAogICAgZW5kCmxvY2FsIGZwNWR2cSA9IDQKICAgIHRhc2sud2FpdCgwLjIpIC0tIGFkanVzdCBhcyBuZWVkZWQKLS0gbnluank0dnIKZW5kCi0tIHI5aDQ1dG9oCmxvY2FsIHpwaXE0dyA9IDYwCgotLSAyczZqZHhmdA=='))()